{% extends 'base.html' %}

{% block title %}Edit Cattle - Nyanyakwa Dairy Farm{% endblock %}

{% block content %}
<h1 style="text-align: center; color: #2e7d32;">Edit Cattle Record</h1>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div style="max-width: 600px; margin: auto;">
      {% for category, message in messages %}
        <div style="padding: 10px; margin-bottom: 10px; border: 1px solid #ccc; border-left: 5px solid 
          {% if category == 'success' %}green
          {% elif category == 'danger' %}red
          {% elif category == 'warning' %}orange
          {% else %}gray{% endif %}; background: #f9f9f9;">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<form method="post" style="max-width: 600px; margin: auto;">
    <label>Name:</label>
    <input type="text" name="name" value="{{ cattle.name }}" required><br><br>

    <label>Breed:</label>
    <input type="text" name="breed" value="{{ cattle.breed }}"><br><br>

    <label>Birth Date:</label>
    <input type="date" name="birth_date" value="{{ cattle.birth_date }}" required><br><br>

    <label>Sex:</label>
    <select name="sex" required>
        <option value="M" {% if cattle.sex == 'M' %}selected{% endif %}>Male</option>
        <option value="F" {% if cattle.sex == 'F' %}selected{% endif %}>Female</option>
    </select><br><br>

    <!-- âœ… Hidden fields (optional, but ensures safe POST if fields are still expected) -->
    <input type="hidden" name="status_category" value="">
    <input type="hidden" name="status" value="">

    <button type="submit">ðŸ’¾ Save Changes</button>
</form>
{% endblock %}
